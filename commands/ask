#!/usr/bin/env bash
# don't use strict, as we need exit codes
# strict mode, will cause exit code of 2 to explode and be exited

# todo, bring in default/fallback, confirm, and required/mandatory flags into this

question="${1:?"USAGE: ask <QUESTION>"}"
flags=()
if is-affirmative "${PASS-}"; then
	flags+=('-s')
fi

stderr echo -e "$question"
read "${flags[@]}" -t 3600 -r -p "> " result
if test "$?" -gt 128; then
	# timeout occured
	exit 1
fi
echo "$result"
