#!/usr/bin/env bash

# https://mediaarea.net
# https://mediaarea.net/en/MediaInfo
# https://mediaarea.net/en/MediaInfo/Download
# https://mediaarea.net/en/MediaInfo/Download/Mac_OS <-- is a .dmg that is then a .pkg that then install the cli
# https://repology.org/project/mediainfo/versions
# https://mediaarea.net/en/Repos

function setup_util_mediainfo() (
	source "$DOROTHY/sources/bash.bash"

	# handle the apt repository
	if is-apt; then
		setup-util --name='MediaInfo APT Repository' "$@" DEB='https://mediaarea.net/repo/deb/repo-mediaarea_1.0-25_all.deb'
	fi

	# setup
	local options=(
		--cli='mediainfo'
		"$@"
		APK='mediainfo' # ALPINE
		APT='mediainfo' # UBUNTU
		AUR='mediainfo' # ARCH
		BREW='media-info'
		EMERGE='media-video/mediainfo' # GENTOO
		NIX='mediainfo'
		RPM='mediainfo'      # FEDORA
		URPMI='mediainfo'    # MAGEIA
		XBPS='mediainfo-cli' # VOID
		ZYPPER='mediainfo'   # SUSE
	)
	setup-util "${options[@]}"
)

# fire if invoked standalone
if [[ $0 == "${BASH_SOURCE[0]}" ]]; then
	setup_util_mediainfo "$@"
fi
