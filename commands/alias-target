#!/usr/bin/env bash
source "$DOROTHY/sources/strict.bash"
# http://stackoverflow.com/a/1330366/130638

# inputs
path="$(
	ask --required \
		--question="Enter the path of a macOS alias file to get its target details." \
		--default="${1-}"
)"

# act
silent-stderr osascript <<-EOF
	tell application "Finder"
		set theItem to (POSIX file "$path") as alias
		if the kind of theItem is "alias" then
			get the POSIX path of ((original item of theItem) as text)
		end if
	end tell
EOF
